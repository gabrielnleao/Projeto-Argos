<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Calibrador de Mapa ARGOS</title>
    <style>
        body { background: #222; color: #fff; font-family: sans-serif; text-align: center; }
        canvas { border: 2px solid red; cursor: crosshair; }
        #coordenadas { font-size: 1.5em; margin: 20px; color: #0f0; }
    </style>
</head>
<body>
    <h2>Clique nos pontos importantes do mapa (Cruzamento, Ruas, etc.)</h2>
    <div id="coordenadas">X: 0, Y: 0</div>
    <canvas id="canvas" width="1000" height="700"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const display = document.getElementById('coordenadas');
        
        // Carrega o seu mapa
        const img = new Image();
        img.src = 'fundo-mapa.png'; // Certifique-se que o nome está igual ao que você salvou
        
        img.onload = () => {
            ctx.drawImage(img, 0, 0, 1000, 700);
        };

        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const x = Math.round(e.clientX - rect.left);
            const y = Math.round(e.clientY - rect.top);
            
            display.innerText = `X: ${x}, Y: ${y}`;
            
            // Desenha um ponto onde você clicou para confirmar
            ctx.fillStyle = 'red';
            ctx.beginPath();
            ctx.arc(x, y, 5, 0, Math.PI * 2);
            ctx.fill();
            
            console.log(`Ponto capturado: { x: ${x}, y: ${y} }`);
            alert(`Coordenada copiada: X=${x}, Y=${y}`);
        });
    </script>
</body>
</html>
```

**Como usar:**
1.  Abra esse arquivo `calibrador.html` no seu navegador.
2.  Você verá o seu mapa novo.
3.  **Clique** exatamente no meio do cruzamento das avenidas.
4.  Anote o **X** e o **Y** que aparecerem no alerta. (Esse será o ponto do seu "Incidente/Batida").
5.  **Clique** em uma rua lateral onde a viatura vai começar.
6.  Anote o **X** e o **Y**.

---

### **Fase 2: Atualizar o Teste de Simulação**

Como a maquete ainda não está pronta e não vamos usar a IA agora, vamos atualizar aquele arquivo `teste.js` para usar essas coordenadas novas e perfeitas.

No seu arquivo `teste.js` (que usamos para simular o envio), atualize a lista `cenaSimulada` com os números que você anotou:

```javascript
// Atualize com os números que você pegou no calibrador
const cenaSimulada = [
    { label: 'azul', x: 120, y: 550 },      // Exemplo: Viatura na rua lateral
    { label: 'vermelho', x: 450, y: 320 },  // Exemplo: Acidente no cruzamento
    { label: 'verde', x: 480, y: 340 }      // Exemplo: Trânsito logo atrás
];